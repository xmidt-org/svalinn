---
server: locahost:8181

primary:
  address: ":8181"

log:
  file: "stdout"
  level: "DEBUG"
  json: false

endpoint: "/device-status"
queueSize: 3000
stateLimitPerDevice: 3
metadataMaxSize: 1000
payloadMaxSize: 1000
insertRetries: 3
pruneRetries: 3
getRetries: 3
retryInterval: 10s
defaultTTL: 5s
db:
  server: "127.0.0.1:11210"
  username: "Administrator"
  password: "somepassword"
  bucket: "devices"
  numRetries: 4
  connectTimeout: 1m
  opTimeout: 3s
regexRules:
  - regex: ".*/online$"
    tombstoneKey: "online"
    storePayload: true
    ttl: 30s
    eventType: "state"
  - regex: ".*/offline$"
    tombstoneKey: "offline"
    storePayload: true
    ttl: 30s
    eventType: "state"

authHeader: ["YXV0aEhlYWRlcg=="]

webhook:
  secret: "super secret"
  registrationInterval: "4m"
  url: "http://host.docker.internal:8181/api/v1/device-status"
  timeout: "1m"
  registrationURL: "https://127.0.0.1:6000/hook"
  eventsToWatch: ["device-status.*"]
  acquirerConfig:
    basic: 
    sat:
      client: ""
      secret: ""
      satURL: ""
      timeout: "1m"